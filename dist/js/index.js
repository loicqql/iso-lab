(()=>{let e=Isomer.Shape,t=Isomer.Point,o=Isomer.Color;window.addEventListener("DOMContentLoaded",(()=>{let e,t=document.createElement("canvas"),o=document.querySelector("main");t.id="game",t.width=o.offsetWidth,t.height=o.offsetHeight,document.querySelector("main").appendChild(t),e=new Isomer(document.getElementById("game"),{originX:o.offsetWidth/2,originY:o.offsetHeight/2,scale:25});let i=[],s=0;for(let e=15;e>-15;e--)for(let t=15;t>-15;t--)i[s]=new r(e,t),s++;let h=0,n=()=>{t.getContext("2d").clearRect(0,0,t.width,t.height);for(let e=0;e<30;e++){let t=Math.cos(e*(2*Math.PI/29)+h);for(let o=e;o<i.length;o+=29)i[o].setZ(t/1.3)}h+=2*Math.PI/29,i.forEach((t=>{t.draw(e)})),requestAnimationFrame(n)};n()}));class r{z=0;rgb=[];constructor(e,t){this.x=e,this.y=t,this.rgb=[237,50,134]}setZ(e){this.z=e}setColor(e){this.rgb=e}draw(r){let i=chroma.scale(["FFC003","6D32ED"])((this.z+1/1.3)/(2/1.3)).rgb();r.add(e.Prism(t(this.x,this.y,this.z),1,1,1),new o(i[0],i[1],i[2]))}}})();